---
title: "루틴 알람 통합하기"
date: 2021-03-20 00:00:00
categories: journal
---

루틴 기능에 거의 일주일의 시간을 쏟고 있다. 생각보다 복잡했다.

문제의 발단은 이러하다.

원래는 루틴을 리덕스 상 로컬 스코프로 만들었다. 오브젝트 내의 아이템의 하나의 속성으로 만들었다. 그런데 times에서 루틴을 통합해서 보여줄 때 글로벌 스코프가 필요했기 때문에 글로벌로 전환했다.

글로벌로 전환한 이유는 로컬 스코프를 사용하기 위해 통합할 때 생각보다 쉽지 않았기 때문이다. 컴포넌트 내에서 상태 변화를 하면 리덕스와의 연결성이 깨졌다. 그렇다고 해서 리덕스로 다 관리하자니 타임리스트 자체가 이미 리소스 부하가 많기 때문에 부담스러웠다. 또한 기존의 아이템이나 노트를 삭제할 때 알림을 삭제해줘야 하는데 관리가 어려웠다. 나는 코딩할 때 뭔가 깔끔하게 삭제가 되지 않으면 마음이 편하지가 않다.

글로벌로 전환을 해야 하는데 기존 소스를 수정하기가 힘들어서 로컬과 글로벌이 공존하는 상태이다. 통일을 해줘야 한다. 아직은 힘들어서 못하고 있는 상태...ㅎㅎ

새로운 기능을 개발하면서 기존의 기능들과 통합하는데 꽤 많은 시간과 노력이 필요하다. 버그도 많이 생기고 기존의 상태가 변경될 때 새로운 기능들도 같이 업데이트 해줘야 한다.

thunk는 거의 백엔드 수준이 되어가고 있고 프론트도 코드가 길어지고 복잡해지고 있다. 조건식을 많이 사용하게 되는데 왠지 불안하다. 코드 정리도 해줘야 하는데...

루틴 알림을 등록하고 삭제하는데 시간을 많이 썼다. 처음부터 글로벌 스코프로 했으면 좋았을 거 같은데 아직 몇 수 내다보는 건 어렵다. 10수까지는 아니더라고 3수까지는 내다보는게 좋을거 같은데 쉽지가 않다. 그래서 계획이나 펼쳐보기가 중요한것 같다.

작은 질문과 작은 문제 해결을 통해 앞으로 나아가고 있다. 3수 정도를 내다보는 planning을 가지는 시야가 있으면 더 좋을것 같다.

iOS는 아직 손도 대지 못했는데 언제하지 -ㅁ-
